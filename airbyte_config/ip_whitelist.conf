# Airbyte IP Whitelist Configuration
# These are Airbyte Cloud IP addresses that need to be whitelisted

# For firewall configuration (iptables, ufw, cloud security groups, etc.)

## US Region IPs
34.106.109.131
34.106.196.165
34.106.60.246
34.106.229.69
34.106.127.139
34.106.218.58
34.106.115.240
34.106.225.141

## EU Region IPs
13.37.4.46
13.37.142.60
35.181.124.238

## CIDR Range (US)
34.33.7.0/29

# =========================================
# Docker Network Configuration
# =========================================

# To allow these IPs to access your MySQL container:

# 1. Ensure MySQL is bound to 0.0.0.0 (not just 127.0.0.1)
# 2. Open port 3307 in your host firewall
# 3. Configure cloud security groups if running on cloud infrastructure

# =========================================
# UFW Firewall Rules (Ubuntu/Debian)
# =========================================

# sudo ufw allow from 34.106.109.131 to any port 3307
# sudo ufw allow from 34.106.196.165 to any port 3307
# sudo ufw allow from 34.106.60.246 to any port 3307
# sudo ufw allow from 34.106.229.69 to any port 3307
# sudo ufw allow from 34.106.127.139 to any port 3307
# sudo ufw allow from 34.106.218.58 to any port 3307
# sudo ufw allow from 34.106.115.240 to any port 3307
# sudo ufw allow from 34.106.225.141 to any port 3307
# sudo ufw allow from 13.37.4.46 to any port 3307
# sudo ufw allow from 13.37.142.60 to any port 3307
# sudo ufw allow from 35.181.124.238 to any port 3307
# sudo ufw allow from 34.33.7.0/29 to any port 3307

# =========================================
# iptables Firewall Rules (Linux)
# =========================================

# sudo iptables -A INPUT -p tcp -s 34.106.109.131 --dport 3307 -j ACCEPT
# sudo iptables -A INPUT -p tcp -s 34.106.196.165 --dport 3307 -j ACCEPT
# sudo iptables -A INPUT -p tcp -s 34.106.60.246 --dport 3307 -j ACCEPT
# sudo iptables -A INPUT -p tcp -s 34.106.229.69 --dport 3307 -j ACCEPT
# sudo iptables -A INPUT -p tcp -s 34.106.127.139 --dport 3307 -j ACCEPT
# sudo iptables -A INPUT -p tcp -s 34.106.218.58 --dport 3307 -j ACCEPT
# sudo iptables -A INPUT -p tcp -s 34.106.115.240 --dport 3307 -j ACCEPT
# sudo iptables -A INPUT -p tcp -s 34.106.225.141 --dport 3307 -j ACCEPT
# sudo iptables -A INPUT -p tcp -s 13.37.4.46 --dport 3307 -j ACCEPT
# sudo iptables -A INPUT -p tcp -s 13.37.142.60 --dport 3307 -j ACCEPT
# sudo iptables -A INPUT -p tcp -s 35.181.124.238 --dport 3307 -j ACCEPT
# sudo iptables -A INPUT -p tcp -s 34.33.7.0/29 --dport 3307 -j ACCEPT

# =========================================
# Windows Firewall Rules (PowerShell)
# =========================================

# New-NetFirewallRule -DisplayName "Airbyte MySQL US1" -Direction Inbound -RemoteAddress 34.106.109.131 -Protocol TCP -LocalPort 3307 -Action Allow
# New-NetFirewallRule -DisplayName "Airbyte MySQL US2" -Direction Inbound -RemoteAddress 34.106.196.165 -Protocol TCP -LocalPort 3307 -Action Allow
# New-NetFirewallRule -DisplayName "Airbyte MySQL US3" -Direction Inbound -RemoteAddress 34.106.60.246 -Protocol TCP -LocalPort 3307 -Action Allow
# New-NetFirewallRule -DisplayName "Airbyte MySQL US4" -Direction Inbound -RemoteAddress 34.106.229.69 -Protocol TCP -LocalPort 3307 -Action Allow
# New-NetFirewallRule -DisplayName "Airbyte MySQL US5" -Direction Inbound -RemoteAddress 34.106.127.139 -Protocol TCP -LocalPort 3307 -Action Allow
# New-NetFirewallRule -DisplayName "Airbyte MySQL US6" -Direction Inbound -RemoteAddress 34.106.218.58 -Protocol TCP -LocalPort 3307 -Action Allow
# New-NetFirewallRule -DisplayName "Airbyte MySQL US7" -Direction Inbound -RemoteAddress 34.106.115.240 -Protocol TCP -LocalPort 3307 -Action Allow
# New-NetFirewallRule -DisplayName "Airbyte MySQL US8" -Direction Inbound -RemoteAddress 34.106.225.141 -Protocol TCP -LocalPort 3307 -Action Allow
# New-NetFirewallRule -DisplayName "Airbyte MySQL EU1" -Direction Inbound -RemoteAddress 13.37.4.46 -Protocol TCP -LocalPort 3307 -Action Allow
# New-NetFirewallRule -DisplayName "Airbyte MySQL EU2" -Direction Inbound -RemoteAddress 13.37.142.60 -Protocol TCP -LocalPort 3307 -Action Allow
# New-NetFirewallRule -DisplayName "Airbyte MySQL EU3" -Direction Inbound -RemoteAddress 35.181.124.238 -Protocol TCP -LocalPort 3307 -Action Allow
# New-NetFirewallRule -DisplayName "Airbyte MySQL CIDR" -Direction Inbound -RemoteAddress 34.33.7.0/29 -Protocol TCP -LocalPort 3307 -Action Allow

# =========================================
# AWS Security Group Rules
# =========================================

# aws ec2 authorize-security-group-ingress --group-id sg-xxxxx --protocol tcp --port 3307 --cidr 34.106.109.131/32
# aws ec2 authorize-security-group-ingress --group-id sg-xxxxx --protocol tcp --port 3307 --cidr 34.106.196.165/32
# aws ec2 authorize-security-group-ingress --group-id sg-xxxxx --protocol tcp --port 3307 --cidr 34.106.60.246/32
# aws ec2 authorize-security-group-ingress --group-id sg-xxxxx --protocol tcp --port 3307 --cidr 34.106.229.69/32
# aws ec2 authorize-security-group-ingress --group-id sg-xxxxx --protocol tcp --port 3307 --cidr 34.106.127.139/32
# aws ec2 authorize-security-group-ingress --group-id sg-xxxxx --protocol tcp --port 3307 --cidr 34.106.218.58/32
# aws ec2 authorize-security-group-ingress --group-id sg-xxxxx --protocol tcp --port 3307 --cidr 34.106.115.240/32
# aws ec2 authorize-security-group-ingress --group-id sg-xxxxx --protocol tcp --port 3307 --cidr 34.106.225.141/32
# aws ec2 authorize-security-group-ingress --group-id sg-xxxxx --protocol tcp --port 3307 --cidr 13.37.4.46/32
# aws ec2 authorize-security-group-ingress --group-id sg-xxxxx --protocol tcp --port 3307 --cidr 13.37.142.60/32
# aws ec2 authorize-security-group-ingress --group-id sg-xxxxx --protocol tcp --port 3307 --cidr 35.181.124.238/32
# aws ec2 authorize-security-group-ingress --group-id sg-xxxxx --protocol tcp --port 3307 --cidr 34.33.7.0/29

# =========================================
# Azure Network Security Group Rules
# =========================================

# az network nsg rule create --resource-group myResourceGroup --nsg-name myNSG --name AirbyteMySQL-US1 --priority 100 --source-address-prefixes 34.106.109.131 --destination-port-ranges 3307 --protocol Tcp --access Allow
# (Repeat for each IP address with incremented priority numbers)

# =========================================
# GCP Firewall Rules
# =========================================

# gcloud compute firewall-rules create airbyte-mysql-access --allow tcp:3307 --source-ranges 34.106.109.131,34.106.196.165,34.106.60.246,34.106.229.69,34.106.127.139,34.106.218.58,34.106.115.240,34.106.225.141,13.37.4.46,13.37.142.60,35.181.124.238,34.33.7.0/29
