-- Create the Bentley_Budget database
CREATE DATABASE IF NOT EXISTS Bentley_Budget;
USE Bentley_Budget;

-- Create the gdp_data table
CREATE TABLE IF NOT EXISTS gdp_data (
    id INT AUTO_INCREMENT PRIMARY KEY,
    country_name VARCHAR(255) NOT NULL,
    country_code VARCHAR(10) NOT NULL,
    indicator_name VARCHAR(255) NOT NULL,
    indicator_code VARCHAR(50) NOT NULL,
    year_1960 DECIMAL(20,2),
    year_1961 DECIMAL(20,2),
    year_1962 DECIMAL(20,2),
    year_1963 DECIMAL(20,2),
    year_1964 DECIMAL(20,2),
    year_1965 DECIMAL(20,2),
    year_1966 DECIMAL(20,2),
    year_1967 DECIMAL(20,2),
    year_1968 DECIMAL(20,2),
    year_1969 DECIMAL(20,2),
    year_1970 DECIMAL(20,2),
    year_1971 DECIMAL(20,2),
    year_1972 DECIMAL(20,2),
    year_1973 DECIMAL(20,2),
    year_1974 DECIMAL(20,2),
    year_1975 DECIMAL(20,2),
    year_1976 DECIMAL(20,2),
    year_1977 DECIMAL(20,2),
    year_1978 DECIMAL(20,2),
    year_1979 DECIMAL(20,2),
    year_1980 DECIMAL(20,2),
    year_1981 DECIMAL(20,2),
    year_1982 DECIMAL(20,2),
    year_1983 DECIMAL(20,2),
    year_1984 DECIMAL(20,2),
    year_1985 DECIMAL(20,2),
    year_1986 DECIMAL(20,2),
    year_1987 DECIMAL(20,2),
    year_1988 DECIMAL(20,2),
    year_1989 DECIMAL(20,2),
    year_1990 DECIMAL(20,2),
    year_1991 DECIMAL(20,2),
    year_1992 DECIMAL(20,2),
    year_1993 DECIMAL(20,2),
    year_1994 DECIMAL(20,2),
    year_1995 DECIMAL(20,2),
    year_1996 DECIMAL(20,2),
    year_1997 DECIMAL(20,2),
    year_1998 DECIMAL(20,2),
    year_1999 DECIMAL(20,2),
    year_2000 DECIMAL(20,2),
    year_2001 DECIMAL(20,2),
    year_2002 DECIMAL(20,2),
    year_2003 DECIMAL(20,2),
    year_2004 DECIMAL(20,2),
    year_2005 DECIMAL(20,2),
    year_2006 DECIMAL(20,2),
    year_2007 DECIMAL(20,2),
    year_2008 DECIMAL(20,2),
    year_2009 DECIMAL(20,2),
    year_2010 DECIMAL(20,2),
    year_2011 DECIMAL(20,2),
    year_2012 DECIMAL(20,2),
    year_2013 DECIMAL(20,2),
    year_2014 DECIMAL(20,2),
    year_2015 DECIMAL(20,2),
    year_2016 DECIMAL(20,2),
    year_2017 DECIMAL(20,2),
    year_2018 DECIMAL(20,2),
    year_2019 DECIMAL(20,2),
    year_2020 DECIMAL(20,2),
    year_2021 DECIMAL(20,2),
    year_2022 DECIMAL(20,2),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    INDEX idx_country_code (country_code),
    INDEX idx_year_2022 (year_2022),
    INDEX idx_country_name (country_name)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- Create a normalized table for better querying
CREATE TABLE IF NOT EXISTS gdp_yearly_data (
    id INT AUTO_INCREMENT PRIMARY KEY,
    country_code VARCHAR(10) NOT NULL,
    country_name VARCHAR(255) NOT NULL,
    year INT NOT NULL,
    gdp_value DECIMAL(20,2),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    UNIQUE KEY unique_country_year (country_code, year),
    INDEX idx_country_code (country_code),
    INDEX idx_year (year),
    INDEX idx_gdp_value (gdp_value)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci; 